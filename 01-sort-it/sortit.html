<html>
	<head>
		
		<meta charset="UTF-8">
		<title>Sort It!</title>
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		
		<style>
			.container {
				margin-top:20px;
			}
			#hatImage {
				margin-top: 20px;
				width: 300px;
				height: 300px;
			}
			.hatField {
				margin-top: 20px;
				
			}
		</style>
		
	</head>
	<body>
		<main class="container">
			<div class="row">
				<button class="btn btn-primary center-block" v-on:click="generateHat">Generate Hat</button>	
			</div>
			<div class="row">
				<img class="center-block" id="hatImage">
			</div>
			<div class="hatField row center-block text-center">
				<p><h1>{{hatType}}</h1></p>
			</div>
		</main>
	</body>
	<script>
		var app = new Vue({
		  el: '.container',
		  data: {
			hatType: null
		  },
		  created: function() {
			this.generateHat();  
		  },
		  methods : {
			  generateHat: function() {
					var self = this;
					var image = null;
					axios.get("https://www.potterapi.com/v1/sortingHat")
						.then(function(response) {
							self.hatType=response.data;
							if(self.hatType=='Hufflepuff') {
								image = "0.51_Hufflepuff_Crest_Transparent.png";
    						        } else if(self.hatType=='Slytherin') {
								image = "0.61_Slytherin_Crest_Transparent.png";
							} else if(self.hatType=='Ravenclaw') {
								image = "0.41_Ravenclaw_Crest_Transparent.png";
							} else {
								image = "0.31_Gryffindor_Crest_Transparent.png";
							}
							document.getElementById("hatImage").src="./imgs/" + image;
						});
					
			  }
		  }
		  
		});
	</script>
	
</html>
